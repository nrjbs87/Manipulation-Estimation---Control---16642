clear all;
syms x y z;
% x = theta1
% y = theta2
% z = theta3

%%%%%%%%%%%%%%%%%%
%     H_1^0      %
%%%%%%%%%%%%%%%%%%

Rz1 = [[cos(x), -sin(x), 0, 0],
       [sin(x), cos(x),  0, 0],
       [0,  0,   1, 0],
       [0,  0,   0, 1]];
   
tx1 = [[1, 0, 0, 1],
       [0, 1,  0, 0],
       [0, 0,  1, 0],
       [0, 0,  0, 1]];
   
H10 = Rz1 * tx1;
   
%%%%%%%%%%%%%%%%%%
%     H_2^1      %
%%%%%%%%%%%%%%%%%%

Rz2 = [[cos(y), -sin(y), 0, 0],
       [sin(y), cos(y),  0, 0],
       [0,  0,   1, 0],
       [0,  0,   0, 1]];
   
tx2 = [[1, 0,  0, 1],
       [0, 1,  0, 0],
       [0, 0,  1, 0],
       [0, 0,  0, 1]];
   
H21 = Rz2 * tx2;

%%%%%%%%%%%%%%%%%%
%     H_3^2      %
%%%%%%%%%%%%%%%%%%   
   
Rz3 = [[cos(z), -sin(z), 0, 0],
       [sin(z), cos(z),  0, 0],
       [0,  0,   1, 0],
       [0,  0,   0, 1]];
   
tx3 = [[1, 0,  0, 0.5],
       [0, 1,  0, 0],
       [0, 0,  1, 0],
       [0, 0,  0, 1]];

H32 = Rz3 * tx3;
%%%%%%%%%%%%%%%%%%
%     H_3^0      %
%%%%%%%%%%%%%%%%%% 
H30 = simplify(H10 * H21 * H32);